<html><head><link rel="import" href="../../bower_components/polymer/polymer-element.html"><link rel="import" href="../../bower_components/app-route/app-location.html"><link rel="import" href="../redux-state.html"><script src="../data/webpack.min.js"></script></head><body><dom-module id="display-complete-select-provider"><template><app-location route="{{route}}"></app-location></template><script>class MyCompleteSelectProvider extends(new ReduxMixin(Polymer.mixinBehaviors([Polymer.AppLocalizeBehavior],Polymer.Element))){static get is(){return"display-complete-select-provider"}static get actions(){return Object.assign({SELECTPROVIDER:function(selectProvider){return{type:"SELECTPROVIDER",selectProvider:selectProvider}}})}static get properties(){return{privateKey:{type:String,observer:"_selectProvider"},selectedReply:{type:Object},route:{type:Object}}}_selectProvider(){if(this.privateKey){let itemHash=this.route.path.split("/")[3],UUIDCollection=JSON.parse(localStorage.getItem("UUIDCollection")),uuid;for(let key in UUIDCollection){if(UUIDCollection[key]==itemHash){uuid=key}}webpack.encryptWithPublicKey(this.selectedReply.publicKey,uuid).then(secret=>{this.selectProvider={itemHash:itemHash,hashtagAddress:this.route.path.split("/")[2],selectee:{secret:secret,address:this.selectedReply.address},reply:this.selectedReply};this.dispatch("SELECTPROVIDER",JSON.stringify(this.selectProvider))})}}}window.customElements.define(MyCompleteSelectProvider.is,MyCompleteSelectProvider);</script></dom-module></body></html>