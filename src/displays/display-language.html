<html><head><link rel="import" href="../../bower_components/polymer/polymer-element.html"><link rel="import" href="../../bower_components/app-localize-behavior/app-localize-behavior.html"><link rel="import" href="../redux-state.html"></head><body><dom-module id="display-language"><template><style>:host{display:block;}.big-btn{@apply --text-button-big;color:var(--sc-grey4);width:100%;box-sizing:border-box;margin-bottom:10px;@apply --layout-vertical;@apply --layout-center-center;}.big-btn:active{@apply --button-active;}</style><template is="dom-if" if="{{selected}}"><div tabindex="1" autofocus="" class="language" on-click="_navigateTo" on-keypress="_navigateTo">{{language}}</div></template><template is="dom-if" if="{{buttons}}"><template is="dom-repeat" items="{{locales}}"><div tabindex="2" class="btn-parent" on-click="_selectLanguage" on-keypress="_selectLanguage"><div class="big-btn">{{item.name}}</div></div></template></template></template><script>class MyDisplayLanguage extends(new ReduxMixin(Polymer.mixinBehaviors([Polymer.AppLocalizeBehavior],Polymer.Element))){static get is(){return"display-language"}static get properties(){return{language:{type:String,statePath:"language"},selected:{type:Boolean,value:!1},buttons:{type:Boolean,value:!1},path:{type:String,reflectToAttribute:!0,notify:!0},locales:{type:Array}}}static get actions(){return Object.assign({LANGUAGE:function(language){return{type:"LANGUAGE",language:language}}})}connectedCallback(){super.connectedCallback();this._showButtons()}_showButtons(){if(this.buttons){this.locales=[{iso:"en",name:"English"}]}}_selectLanguage(event){if(13===event.keyCode||"click"==event.type){const selectedLanguage=event.model.__data.item.iso;this.dispatch("LANGUAGE",selectedLanguage);if(this.path==void 0){this.path="welcome/"}if("welcome/"==this.path){this.path="/"}if("/"==this.path){this.path="welcome/"}let storage=JSON.parse(localStorage.getItem("SwarmCity"));storage.user.language=selectedLanguage;localStorage.setItem("SwarmCity",JSON.stringify(storage))}}_navigateTo(e){if("click"!=e.type){if(13===e.keyCode){this.path="language/"}}else{this.path="language/"}}}window.customElements.define(MyDisplayLanguage.is,MyDisplayLanguage);</script></dom-module></body></html>