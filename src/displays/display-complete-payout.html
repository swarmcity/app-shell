<html><head><link rel="import" href="../../bower_components/polymer/polymer-element.html"><link rel="import" href="../data/data-transaction.html"></head><body>&gt;<link rel="import" href="../redux-state.html"><dom-module id="display-complete-payout"><template><data-transaction id="transaction"></data-transaction></template><script>class MyDisplayCompletePayout extends(new ReduxMixin(Polymer.mixinBehaviors([Polymer.AppLocalizeBehavior],Polymer.Element))){static get is(){return"display-complete-payout"}static get actions(){return Object.assign({SENDSIGNEDTX:function(sendSignedTx){return{type:"SENDSIGNEDTX",sendSignedTx:sendSignedTx}}})}static get properties(){return{privateKey:{type:String,observer:"_payout"},route:{type:Object},sendSignedTx:{type:Object},hashtagItem:{type:Object,statePath:"hashtagItem"},nonce:{type:Object,statePath:"nonce"},address:{type:String,statePath:"publicKey"}}}_payout(){if(this.privateKey){let simpleDealContract=new webpack.Contract(abi.hashtagSimpleDeal.abi,this.hashtag.address),rawPayoutItem=simpleDealContract.methods.payoutItem(this.hashtagItem.itemHash).encodeABI();const txParams={nonce:this._toHex(this.nonce),gasPrice:1e9,gasLimit:3e6,to:this.hashtag.address,from:this.address,value:"0x00",data:rawPayoutItem,chainId:42};this.$.transaction.signRawTx(txParams,this.privateKey).then(serializedTx=>{this.dispatch("SENDSIGNEDTX",serializedTx.toString("hex"))}).catch(err=>{this.error=err})}}}window.customElements.define(MyDisplayCompletePayout.is,MyDisplayCompletePayout);</script></dom-module></body></html>